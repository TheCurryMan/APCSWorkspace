import java.util.List;
import java.util.Stack;

public class BrowserModel
{
    private BrowserView view;
    private Stack<Integer> backStk, forwardStk;
    private int topLine;

    public BrowserModel(BrowserView view)
    {
        this.view = view;
        backStk = new Stack<Integer>();
        forwardStk = new Stack<Integer>();
        topLine = 0;
    }


    public void followLink(int n)
    {
        view.update(n);
        backStk.push(topLine);
        topLine = n;
        forwardStk.clear();
    }
    
    public boolean ifBack ()
    {
        return !backStk.isEmpty();
    }
    
    public boolean ifForward()
    {
        return !forwardStk.empty();
    }
    
    public void home()
    {
        view.update( 0 );
        backStk.push( topLine );
        topLine = 0;
        forwardStk.clear();
    }
    
    public void back() {
        int a = (int)backStk.pop();
        forwardStk.push(topLine);
        topLine = a;
        view.update(a);
    }

    public void forward() {
        int a = (int)forwardStk.pop();
        backStk.push(topLine);
        topLine = a;
        view.update(a);
    }

    // The following are for test purposes only
    protected Stack<Integer> getBackStk()
    {
        return backStk;
    }

    protected Stack<Integer> getForwardStk()
    {
        return forwardStk;
    }
    
    protected int getTopLine()
    {
        return topLine;
    }
}

